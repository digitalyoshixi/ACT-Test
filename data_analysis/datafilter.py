import pandas as pd 
import numpy as np 
import math
import matplotlib.pyplot as plt
from sklearn.preprocessing import PolynomialFeatures
from sklearn.linear_model import LinearRegression
from sklearn.metrics import r2_score
from scipy.optimize import curve_fit
import uncertainties as unc 
from scipy import stats
try:
  import uncertainties.unump as unp
except:
  print("error in unp")

# win% | round avg | react avg | entropy
maindata = [
    [18/21, 3.6128319523809527, 1.4296950952380951, 72.38],
    [10/14, 3.1124915714285715, 1.0955179285714287, 98.32],
    [21/25, 2.59071028, 0.73925748, 51.7],
    [4/4, 2.19759175, 1.9435618846153848, 72.1],
    [21/23, 5.08084608695652, 1.6607509999999999,65.55],
    [22/24, 2.5750545416666664, 0.8304863333333331, 144.2],
    [25/25, 2.7478350799999998, 0.6976688400000001, 65.55],
    [1/4, 1.6662575, 0.528369, 78.66],
    [18/18, 2.080091833333333, 0.37767555555555554, 65.55],
    [16/20, 2.3127096000000003, 0.6232305499999999, 104.87],
    [13/15, 2.329002066666667, 0.6871086666666666, 51.7],
    [9/11, 2.3098781818181817, 0.7688437272727273, 41.36],
    [20/23, 2.2655214782608697, 0.6944691304347829, 85.21],
    [22/25, 1.88616876, 0.6621701600000002, 41.36],
    [25/25, 2.1052604399999995, 0.4796866, 91.76],
    [23/24, 1.8556046666666666, 0.46927633333333335, 94],
    [25/25, 1.8715978800000002, 0.41545512, 85.21],
    [24/25, 3.15486536, 0.8936162000000002, 54.79],
    [22/25, 1.96517288, 0.49201216000000003, 65.55],
    [18/25, 1.9068878, 0.49399412000000015, 78.66],
    [25/25, 1.81478796, 0.39878256000000006, 72.1],
    [22/25, 1.95229908, 0.41465859999999993, 41.36],
    [25/25, 2.0161275599999997, 0.41584152, 65.55],
    [23/23, 2.155839739130435, 0.46933408695652173, 72.1],
    [24/25, 2.04036936, 0.51413316, 72.1],
    [21/24, 2.592317291666667, 0.7311294166666666, 85.22],
    [7/10, 2.1813770999999997, 0.8936057999999999, 78.66],
    [22/25, 2.0636242000000005, 0.490286, 67.21],
    [25/25, 2.84623388, 0.77560256, 78.66],
    [16/22, 1.8595749999999998, 0.6762682272727273, 85.21],
    [22/25, 1.7830508000000003, 0.42832000000000003, 85.21],
    [23/24, 2.4159757083333333, 0.64255425, 58.99],
    [9/10, 2.3316402, 0.5427226999999999, 72.1],
    [18/19, 2.4968524736842106, 0.8976946315789477, 78.66],
    [18/23, 2.384872260869566, 0.8944778260869564, 78.66],
    [14/15, 2.1943444666666667, 0.4439672666666668, 65.5],
  [20/22, 5.7303986818181825, 1.6253156363636363, 58.99],
   [24/25, 3.4100994799999995, 1.0650873200000002, 65.5]   
]

# the data we want to use
xy = []
x = []
y = []
for i in maindata:
    xy.append([i[2],i[3]])
    x.append(i[2])
    y.append(i[3])

# remove outliers
q1x = np.percentile(x,25)
q3x = np.percentile(x,75)
iqrx = q3x-q1x
outrange = 1.5*iqrx
for i in xy:
  if (i[0] < q1x-outrange or i[0] > q3x+outrange):
    xy.remove(i)

q1y = np.percentile(x,25)
q3y = np.percentile(x,75)
iqry = q3x-q1x
outrange = 1.5*iqry
for i in xy:
  if (i[0] < q1y-outrange or i[0] > q3y+outrange):
    xy.remove(i)

print(len(xy))
print(xy)
x = []
y = []

for i in xy:
  x.append(i[0])
  y.append(i[1])

print("")
print(len(x))
print(x)
print("")
print(len(y))
print(y)